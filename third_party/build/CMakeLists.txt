set(THIRDPARTY_SUBDIRECTORIES "")

if(WITH_RESAMPLE_LIBRESAMPLE)
  set(THIRDPARTY_SUBDIRECTORIES ${THIRDPARTY_SUBDIRECTORIES} resample)
endif()

if(WITH_SRTP)
  set(THIRDPARTY_SUBDIRECTORIES ${THIRDPARTY_SUBDIRECTORIES} srtp)
endif()

set(THIRDPARTY_OBJECTS_LIST)
foreach(SUBDIRECTORY ${THIRDPARTY_SUBDIRECTORIES})
  add_subdirectory(${SUBDIRECTORY})
  set(THIRDPARTY_OBJECTS_LIST ${THIRDPARTY_OBJECTS_LIST} $<TARGET_OBJECTS:${SUBDIRECTORY}>)
endforeach()

set(THIRDPARTY_OBJECTS_LIST ${THIRDPARTY_OBJECTS_LIST} PARENT_SCOPE)
